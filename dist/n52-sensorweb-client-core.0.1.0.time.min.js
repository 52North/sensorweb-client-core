/*! n52-sensorweb-client-core.0.1.0 */
!function(a){a.fn.datetimepicker.dates.de={days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam","Son"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",suffix:[],meridiem:[],weekStart:1,format:"dd.mm.yyyy"}}(window.jQuery),angular.module("n52.core.timeRange",["n52.core.time","ui.bootstrap","n52.core.settings"]).controller("TimeRangeCtrl",["$scope","$modal",function(a,b){a.temp="horst",a.open=function(){b.open({animation:!0,templateUrl:"templates/time/time-range-modal.html",controller:"TimeRangeWindowCtrl"})}}]).controller("TimeRangeWindowCtrl",["$scope","$modalInstance",function(a,b){a.modalInstance=b}]).controller("PredefinedTimeRangeControls",["$scope","settingsService",function(a,b){a.items=b.timeRangeData.presets}]).directive("swcPredefinedTimeRangeButton",function(){return{restrict:"E",templateUrl:"templates/time/predefined-time-range-button.html",controller:["$scope","timeService",function(a,b){a.newTimeExtent=function(){b.setPresetInterval(a.item.interval),a.modalInstance.close()}}]}}).directive("swcCustomDateTimeSelection",["settingsService","timeService","$translate",function(a,b,c){return{restrict:"E",templateUrl:"templates/time/custom-time-range-selection.html",link:function(d,e,f){var g=function(b){var d="#"+b.currentTarget.id;moment($("#startPicker").data("date")).isAfter($("#endPicker").data("date"))?($("#alertTimeExtent").show(),$("#confirmTimeExtent").addClass("disabled"),$("#alertTimeExtent").text(c.instant("timeSelection.warning.startBeforeEnd"))):Math.abs(moment($("#startPicker").data("date")).diff($("#endPicker").data("date"),"years",!0))>1?($("#alertTimeExtent").show(),$("#confirmTimeExtent").addClass("disabled"),$("#alertTimeExtent").text(c.instant("timeSelection.warning.maxTimeRange"))):($("#alertTimeExtent").hide(),$("#confirmTimeExtent").removeClass("disabled"),startDate=new Date(b.date)),$(d).text(moment($(d).data("date")).format(a.dateformat)),$(d).datetimepicker("hide")},h=moment(b.time.start),i=moment(b.time.end);$("#startPicker").text(h.format(a.dateformat)),$("#endPicker").text(i.format(a.dateformat)),$("#startPicker").data("date",h.format("YYYY-MM-DD HH:mm")),$("#endPicker").data("date",i.format("YYYY-MM-DD HH:mm")),$("#alertTimeExtent").hide();var j={pickerPosition:"top-right",autoclose:!0,format:"yyyy-mm-dd hh:ii",weekStart:1,language:c.use()};$("#startPicker").datetimepicker(j).on("changeDate",g),$("#endPicker").datetimepicker(j).on("changeDate",g),d.confirmCustomTimeRange=function(){var a=moment($("#startPicker").data("date")),c=moment($("#endPicker").data("date"));b.setFlexibleTimeExtent(a,c),d.modalInstance.close()}}}}]),angular.module("n52.core.timeSelectorButtons",["n52.core.time","n52.core.timeRange"]).directive("swcTimeSelectorButtons",function(){return{restrict:"E",templateUrl:"templates/time/time-selector-buttons.html",controller:["$scope","timeService",function(a,b){a.time=b.time,a.back=function(){b.stepBack()},a.forward=function(){b.stepForward()}}]}});